!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.Perezoso=n()}(this,function(){"use strict";var e=function(e,t,o){var r=document.createElement("img");r.onload=function(){o&&o.call(r)};for(var a in t)r.setAttribute(t[a].name,t[a].value);n(e,r)},n=function(e,n){var t=e.parentNode;t&&t.replaceChild(n,e)},t=function(e){var n=e.attributes,t={};for(var o in n)/^data-/.test(n[o].name)&&(t[n[o].name]={name:n[o].name.substr(5),value:n[o].value});return t},o=function(e){return e||{}},r=function(n,r){var a=t(n);r=o(r),e(n,a,r.onCreateCallback)},a=function(e,n){var t=window.innerHeight||document.documentElement.clientHeight,o=n||0;return e.getBoundingClientRect().top-t<=o},i=function(e,n){var t=function(o){a(e,n.threshold)&&(r(e),window.removeEventListener?window.removeEventListener(o.type,t,!1):window.detachEvent("on"+o.type,t))};return t},u=function(e,n){var t=o(n);if(a(e,t.threshold))r(e,n);else{var u=i(e,t);window.addEventListener?window.addEventListener("scroll",u,!1):window.attachEvent("onscroll",u)}},d=function(e,n){for(var t=document.querySelectorAll("."+e),o=0;o<t.length;++o)Perezoso.registerLazyLoad(t[o],n)};return{lazyLoad:r,registerLazyLoad:u,registerLazyLoadByClass:d}});