!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof module&&module.exports?module.exports=n():e.Perezoso=n()}(this,function(){"use strict";var e=function(e,t){var o=document.createElement("img");for(var r in t)o.setAttribute(t[r].name,t[r].value);n(e,o)},n=function(e,n){var t=e.parentNode;t&&t.replaceChild(n,e)},t=function(e){var n=e.attributes,t={};for(var o in n)/^data-/.test(n[o].name)&&(t[n[o].name]={name:n[o].name.substr(5),value:n[o].value});return t},o=function(e){return e||{}},r=function(n){var o=t(n);e(n,o)},i=function(e,n){var t=window.innerHeight||document.documentElement.clientHeight,o=n||0;return e.getBoundingClientRect().top-t<=o},a=function(e,n){var t=function(o){i(e,n.threshold)&&(r(e),window.removeEventListener?window.removeEventListener(o.type,t,!1):window.detachEvent("on"+o.type,t))};return t},u=function(e,n){var t=o(n);if(i(e,t.threshold))r(e);else{var u=a(e,t);window.addEventListener?window.addEventListener("scroll",u,!1):window.attachEvent("onscroll",u)}},d=function(e,n){for(var t=document.querySelectorAll("."+e),o=0;o<t.length;++o)Perezoso.registerLazyLoad(t[o],n)};return{lazyLoad:r,registerLazyLoad:u,registerLazyLoadByClass:d}});